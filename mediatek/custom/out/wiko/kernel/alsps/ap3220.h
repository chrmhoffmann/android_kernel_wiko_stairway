/* 
 * This software is licensed under the terms of the GNU General Public
 * License version 2, as published by the Free Software Foundation, and
 * may be copied, distributed, and modified under those terms.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 */
/*
 * Definitions for AP3220 als/ps sensor chip.
 */
#ifndef __AP3220_H__
#define __AP3220_H__

#include <linux/ioctl.h>

/*ap3220 als/ps sensor register related macro*/
#define AP3220_REG_SYS_CONF		0x00
#define AP3220_REG_SYS_ISTATUS		0x01
#define AP3220_REG_SYS_ICLEAR_M		0x02
#define AP3220_REG_SYS_IR_DATA_LOW	0x0A
#define AP3220_REG_SYS_IR_DATA_HIGH	0x0B
#define AP3220_REG_SYS_ALS_DATA_LOW	0x0C
#define AP3220_REG_SYS_ALS_DATA_HIGH	0x0D
#define AP3220_REG_SYS_PS_DATA_LOW	0x0E
#define AP3220_REG_SYS_PS_DATA_HIGH	0x0F
#define	AP3220_SYSTEM_PS_IR_OVERFLOW	0x40
#define	AP3220_SYSTEM_PS_OBJ_CLOSE	0x80


#define AP3220_REG_ALS_CONF		0x10
#define AP3220_REG_ALS_CAL		0x19
#define AP3220_REG_ALS_THDL_L		0x1A
#define AP3220_REG_ALS_THDL_H		0x1B
#define AP3220_REG_ALS_THDH_L		0x1C
#define AP3220_REG_ALS_THDH_H		0x1D

#define AP3220_REG_PS_CONF		0x20
#define AP3220_REG_PS_LED		0x21
#define AP3220_REG_PS_INT_FORM		0x22
#define AP3220_REG_PS_MEAN_TIME		0x23
#define AP3220_REG_PS_WAIT_TIME		0x24
#define AP3220_REG_PS_CAL_L		0x28
#define AP3220_REG_PS_CAL_H		0x29
#define AP3220_REG_PS_THDL_L		0x2A
#define AP3220_REG_PS_THDL_H		0x2B
#define AP3220_REG_PS_THDH_L		0x2C
#define AP3220_REG_PS_THDH_H		0x2D

//SYSTEM MODE
#define	AP3220_SYSTEM_DEVICE_DOWN	0x00
#define	AP3220_SYSTEM_PS_ENABLE		0x02
#define	AP3220_SYSTEM_ALS_ENABLE	0x01
#define	AP3220_SYSTEM_DEVICE_MASK	0x03

#define	AP3220_SYSTEM_ALS_INT_TRIGGER	0x01
#define	AP3220_SYSTEM_PS_INT_TRIGGER	0x02

#define	AP3220_SYSTEM_PS_OBJ		0x80
#define	AP3220_SYSTEM_PS_IR_OF		0x40
#define	AP3220_SYSTEM_PS_DATA_MASK_L	0x0F
#define	AP3220_SYSTEM_PS_DATA_MASK_H	0x3F

#define	AP3220_ALS_RANGE_MASK		0x30
#define	AP3220_ALS_RANGE_SHIFT		4
#define	AP3220_ALS_PERSIST_MASK		0x0F
#define	AP3220_ALS_PERSIST_SHIFT	0x00
//ALS Setting
#define AP3220_ALS_SETTING_RANGE_65536	0x00
#define AP3220_ALS_SETTING_RANGE_16383	0x01
#define AP3220_ALS_SETTING_RANGE_4095	0x02
#define AP3220_ALS_SETTING_RANGE_1023	0x03
#define AP3220_ALS_SETTING_PERSIST_1	0x00
#define AP3220_ALS_SETTING_PERSIST_4	0x01
#define AP3220_ALS_SETTING_PERSIST_8	0x02
#define AP3220_ALS_SETTING_PERSIST_12	0x03
#define AP3220_ALS_SETTING_PERSIST_16	0x04
#define AP3220_ALS_SETTING_PERSIST_60	0x0F


#define AP3220_PS_INTEGEATED_TIME_MASK	0xF0
#define AP3220_PS_INTEGEATED_TIME_SHIFT	4
#define AP3220_PS_GAIN_MASK		0x0C
#define AP3220_PS_GAIN_SHIFT		2
#define AP3220_PS_PERSIST_MASK		0x03
#define AP3220_PS_PERSIST_SHIFT		0x00
#define AP3220_PS_GAIN_SHIFT		0
#define AP3220_PS_LED_PULSE_MASK	0x30
#define AP3220_PS_LED_PULSE_SHIFT	4
#define AP3220_PS_LED_RATIO_MASK	0x02
#define AP3220_PS_LED_RATIO_SHIFT	0
//PS Setting
#define AP3220_PS_SETTING_INTG_TIME_1	0x00
#define AP3220_PS_SETTING_INTG_TIME_2	0x01
#define AP3220_PS_SETTING_INTG_TIME_3	0x02
#define AP3220_PS_SETTING_INTG_TIME_4	0x03
#define AP3220_PS_SETTING_INTG_TIME_16	0x0F
#define AP3220_PS_SETTING_GAIN_1	0x00
#define AP3220_PS_SETTING_GAIN_2	0x01
#define AP3220_PS_SETTING_GAIN_4	0x02
#define AP3220_PS_SETTING_GAIN_8	0x03
#define AP3220_PS_SETTING_PERSIST_1	0x00
#define AP3220_PS_SETTING_PERSIST_2	0x01
#define AP3220_PS_SETTING_PERSIST_4	0x02
#define AP3220_PS_SETTING_PERSIST_5	0x03
#define AP3220_PS_SETTING_LED_PULSE_0	0x00
#define AP3220_PS_SETTING_LED_PULSE_1	0x01
#define AP3220_PS_SETTING_LED_PULSE_2	0x02
#define AP3220_PS_SETTING_LED_PULSE_3	0x03
#define AP3220_PS_SETTING_LED_RATIO_16	0x00
#define AP3220_PS_SETTING_LED_RATIO_33	0x01
#define AP3220_PS_SETTING_LED_RATIO_66	0x02
#define AP3220_PS_SETTING_LED_RATIO_100	0x03
#define AP3220_PS_SETTING_PS_ALGO_ZONE	0x00
#define AP3220_PS_SETTING_PS_ALGO_HYST	0x01
#define AP3220_PS_SETTING_PS_MEAN_12	0x00
#define AP3220_PS_SETTING_PS_MEAN_25	0x01
#define AP3220_PS_SETTING_PS_MEAN_37	0x02
#define AP3220_PS_SETTING_PS_MEAN_50	0x03



/*AP3220 related driver tag macro*/
#define AP3220_SUCCESS				 		 0
#define AP3220_ERR_I2C						-1
#define AP3220_ERR_STATUS					-3
#define AP3220_ERR_SETUP_FAILURE			-4
#define AP3220_ERR_GETGSENSORDATA			-5
#define AP3220_ERR_IDENTIFICATION			-6


#endif

